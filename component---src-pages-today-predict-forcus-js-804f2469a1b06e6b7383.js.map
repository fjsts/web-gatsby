{"version":3,"file":"component---src-pages-today-predict-forcus-js-804f2469a1b06e6b7383.js","mappings":"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","sources":["webpack://web-gatsby/./node_modules/gatsby-plugin-breakpoints/index.js","webpack://web-gatsby/./node_modules/gatsby-plugin-breakpoints/withBreakpoints.js","webpack://web-gatsby/./src/pages/today_predict_forcus.js","webpack://web-gatsby/./node_modules/@babel/runtime/helpers/extends.js"],"sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\nvar _BreakpointProvider = require(\"./BreakpointProvider\");\nexports.useBreakpoint = _BreakpointProvider.useBreakpoint;\nexports.BreakpointProvider = _BreakpointProvider.BreakpointProvider;\nexports.BreakpointContext = _BreakpointProvider.BreakpointContext;\nvar _withBreakpoints = require(\"./withBreakpoints\");\nexports.withBreakpoints = _withBreakpoints.withBreakpoints;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nexports.__esModule = true;\nexports.withBreakpoints = void 0;\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\nvar _react = _interopRequireDefault(require(\"react\"));\nvar _BreakpointProvider = require(\"./BreakpointProvider\");\nconst withBreakpoints = Component => {\n  // eslint-disable-next-line react/display-name\n  return props => {\n    const breakpoints = (0, _BreakpointProvider.useBreakpoint)();\n    return /*#__PURE__*/_react.default.createElement(Component, (0, _extends2.default)({\n      breakpoints: breakpoints\n    }, props));\n  };\n};\nexports.withBreakpoints = withBreakpoints;","import React, { useState, useEffect } from 'react';\nimport Layout from \"../components/layout\"\nimport { graphql } from \"gatsby\"\nimport \"../styles/today_predict_forcus.css\"\nimport { useBreakpoint } from \"gatsby-plugin-breakpoints\"\n\nexport default function Home({ data }) {\n\n  const [isFirstLoad, setIsFirstLoad] = useState(true);\n  const url = \"https://widget-view.dmm.co.jp/js/banner_placement.js?affiliate_id=fjs-001&banner_id=927_468_60\"\n\n  useEffect(() => {\n    if (isFirstLoad) {\n      // 初回のロード時の処理をここに記述します\n      const script = document.createElement('script');\n      script.src = url\n      script.async = true;\n      document.body.appendChild(script);\n\n      // 初回のロードが完了したので、isFirstLoadをfalseに設定する\n      setIsFirstLoad(false);\n    }\n  }, [isFirstLoad]);\n\n  function dmm_add(){\n    return (\n      <div>\n      <ins className='dmm_ad'></ins>\n      <script className=\"widget-banner-script\" src={url} ></script>  \n      </div>\n    )\n  }\n\n  const breakpoints = useBreakpoint();\n\n\n  return (\n    <Layout>\n      {ad1()}\n\n\n      {breakpoints.mobile ? \n      <div className=\"today-predict-forcus-mobile\">\n        <h2>本日の狙い目</h2>\n        <p className=\"center_region\">中央競馬</p>\n        {getRaceData(data.allTodayPredictCsv, 'center')}\n        <p className=\"center_region\">地方競馬</p>\n        {getRaceData(data.allTodayPredictCsv, 'region')}\n      </div>\n        : null}\n\n      {breakpoints.pc ? \n      <div className=\"today-predict-forcus-pc\">\n        <h2>本日の狙い目</h2>\n        <p className=\"center_region\">中央競馬</p>\n        {getRaceData(data.allTodayPredictCsv, 'center')}\n        <p className=\"center_region\">地方競馬</p>\n        {getRaceData(data.allTodayPredictCsv, 'region')}\n      </div>\n      : null}\n\n\n      {dmm_add()}\n\n    </Layout>\n\n  )\n}\n\n\n\n\nfunction ad(){\n  return (\n    <div>\n    <a href=\"https://px.a8.net/svt/ejp?a8mat=3NN3IQ+BZ1UR6+1JS2+6CP0X\" rel=\"nofollow\">\n      <img\n        border=\"0\"\n        width=\"468\"\n        height=\"60\"\n        alt=\"\"\n        src=\"https://www22.a8.net/svt/bgt?aid=221107346724&amp;wid=001&amp;eno=01&amp;mid=s00000007229001067000&amp;mc=1\"\n        style={{ margin: 'auto' }}\n      />\n      <img \n      border=\"0\" \n      width=\"1\" \n      height=\"1\" \n      src=\"https://www13.a8.net/0.gif?a8mat=3NN3IQ+BZ1UR6+1JS2+6CP0X\" alt=\"\" \n      />\n    </a>\n  </div>\n  )\n}\n\nfunction ad1(){\n  return (\n    <div>\n    <a href=\"https://px.a8.net/svt/ejp?a8mat=3NN3IQ+C37VZM+47AY+5Z6WX\" rel=\"nofollow\">\n      <img border=\"0\" width=\"468\" height=\"60\" alt=\"\" src=\"https://www20.a8.net/svt/bgt?aid=221107346731&wid=001&eno=01&mid=s00000019609001004000&mc=1\" style={{ margin: 'auto' }}/></a>\n      <img border=\"0\" width=\"1\" height=\"1\" src=\"https://www11.a8.net/0.gif?a8mat=3NN3IQ+C37VZM+47AY+5Z6WX\" alt=\"\"/>\n    </div>\n  )\n}\n\n\nfunction getRaceData(data, division) {\n  let ret = [];\n  let count = 0;\n\n  function formatDate(dt) {\n    dt = new Date(dt)\n    var y = dt.getFullYear();\n    var m = ('00' + (dt.getMonth() + 1)).slice(-2);\n    var d = ('00' + dt.getDate()).slice(-2);\n    return (y + '-' + m + '-' + d);\n  }\n\n  const today = formatDate(new Date());\n\n\n  data.edges.forEach(function (item) {\n    if (item.node.y_pred_value > 70) {\n      if (item.node.date === today) {\n        if (item.node.division === division) {\n          count = count + 1\n          ret.push(\n            <tr key={item.node.id}>\n              <td width=\"20%\" >{item.node.area} {item.node.race_no}R</td>\n              <td width=\"20%\" >{item.node.RaceData01_time.replace(\"発走\", \"\")}</td>\n              <td width=\"10%\" >{item.node.umaban}</td>\n              <td width=\"50%\" >{item.node.horse_name}</td>\n            </tr>\n          )\n        }\n      }\n    }\n  })\n  if (count === 0) {\n    ret = <p align=\"center\">該当のレースがありません。</p>\n  } else {\n    ret = (\n      <table className=\"predict\">\n        <thead>\n          <tr>\n            <th>レース</th>\n            <th>出走</th>\n            <th>馬番</th>\n            <th>馬名</th>\n          </tr>\n        </thead>\n        <tbody>\n          {ret}\n        </tbody>\n      </table>\n    )\n  }\n  return ret;\n}\n\n\nexport const pageQuery = graphql`\n  query {\n    allTodayPredictCsv{\n      edges {\n        node {\n          id\n          division\n          RaceData01_time\n          date\n          area\n          race_no\n          umaban\n          horse_name\n          y_pred_value\n        }\n      }\n    }\n}\n`","function _extends() {\n  module.exports = _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  return _extends.apply(this, arguments);\n}\nmodule.exports = _extends, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;"],"names":["_BreakpointProvider","require","exports","useBreakpoint","BreakpointProvider","BreakpointContext","withBreakpoints","_interopRequireDefault","__esModule","_extends2","_react","Component","props","breakpoints","default","createElement","Home","_ref","data","isFirstLoad","setIsFirstLoad","useState","url","useEffect","script","document","src","async","body","appendChild","React","Layout","href","rel","border","width","height","alt","style","margin","mobile","className","getRaceData","allTodayPredictCsv","pc","division","ret","count","today","dt","Date","getFullYear","getMonth","slice","getDate","edges","forEach","item","node","y_pred_value","date","push","key","id","area","race_no","RaceData01_time","replace","umaban","horse_name","align","_extends","module","Object","assign","bind","target","i","arguments","length","source","prototype","hasOwnProperty","call","apply","this"],"sourceRoot":""}